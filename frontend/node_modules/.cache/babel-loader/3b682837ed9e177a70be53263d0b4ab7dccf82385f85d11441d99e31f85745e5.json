{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[message,setMessage]=useState(\"\");const[uploadedImage,setUploadedImage]=useState(null);const[chatMessages,setChatMessages]=useState([]);// State to hold chat messages\n// Handle file upload\nconst handleImageUpload=async event=>{const file=event.target.files[0];if(!file)return;const formData=new FormData();formData.append(\"file\",file);try{const response=await axios.post(\"/api/upload\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}});setMessage(response.data.message);setUploadedImage(URL.createObjectURL(file));// Display the uploaded image\n// After uploading the image, fetch the chat messages\nfetchChatMessages();}catch(error){console.error(\"Error uploading image:\",error);setMessage(\"Failed to upload image\");}};// Fetch chat messages from the backend\nconst fetchChatMessages=async()=>{try{const response=await axios.get(\"/api/chat\");setChatMessages(response.data.messages);}catch(error){console.error(\"Error fetching chat messages:\",error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",marginTop:\"50px\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",width:\"45%\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:message}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload}),uploadedImage&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Uploaded Image:\"}),/*#__PURE__*/_jsx(\"img\",{src:uploadedImage,alt:\"Uploaded\",style:{width:\"300px\"}})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",width:\"45%\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"30px\",border:\"1px solid #ccc\",borderRadius:\"10px\",width:\"80%\",margin:\"30px auto\",padding:\"10px\",backgroundColor:\"#f9f9f9\",height:\"300px\",overflowY:\"scroll\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"LLM Group Chat:\"}),chatMessages.length>0?chatMessages.map((msg,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:msg.sender===\"You\"?\"right\":\"left\",margin:\"10px\"},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.sender,\":\"]}),\" \",msg.content]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"Generating Translation...\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","message","setMessage","uploadedImage","setUploadedImage","chatMessages","setChatMessages","handleImageUpload","event","file","target","files","formData","FormData","append","response","post","headers","data","URL","createObjectURL","fetchChatMessages","error","console","get","messages","children","style","display","justifyContent","marginTop","textAlign","width","type","accept","onChange","src","alt","border","borderRadius","margin","padding","backgroundColor","height","overflowY","length","map","msg","index","sender","content"],"sources":["/workspace/dsc180b/frontend/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [message, setMessage] = useState(\"\");\n  const [uploadedImage, setUploadedImage] = useState(null);\n  const [chatMessages, setChatMessages] = useState([]); // State to hold chat messages\n\n  // Handle file upload\n  const handleImageUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file) return;\n\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const response = await axios.post(\"/api/upload\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      setMessage(response.data.message);\n      setUploadedImage(URL.createObjectURL(file)); // Display the uploaded image\n\n      // After uploading the image, fetch the chat messages\n      fetchChatMessages();\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n      setMessage(\"Failed to upload image\");\n    }\n  };\n\n  // Fetch chat messages from the backend\n  const fetchChatMessages = async () => {\n    try {\n      const response = await axios.get(\"/api/chat\");\n      setChatMessages(response.data.messages);\n    } catch (error) {\n      console.error(\"Error fetching chat messages:\", error);\n    }\n  };\n\n  return (\n    <>\n    <div style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: \"50px\" }}>\n      {/* Left Column - Image Upload */}\n      <div style={{ textAlign: \"center\", width: \"45%\" }}>\n        <h1>{message}</h1>\n\n        {/* File Input */}\n        <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} />\n\n        {/* Display Uploaded Image */}\n        {uploadedImage && (\n          <div style={{ marginTop: \"20px\" }}>\n            <h3>Uploaded Image:</h3>\n            <img src={uploadedImage} alt=\"Uploaded\" style={{ width: \"300px\" }} />\n          </div>\n        )}\n      </div>\n\n      {/* Right Column - Image Output */}\n      <div style={{ textAlign: \"center\", width: \"45%\" }}>\n\n      </div>\n    </div>\n\n    {/* Chat Box - Message Display*/}\n    <div style={{ marginTop: \"30px\", border: \"1px solid #ccc\", borderRadius: \"10px\", width: \"80%\", margin: \"30px auto\", padding: \"10px\", backgroundColor: \"#f9f9f9\", height: \"300px\", overflowY: \"scroll\" }}>\n      <h3>LLM Group Chat:</h3>\n      {chatMessages.length > 0 ? (\n        chatMessages.map((msg, index) => (\n          <div key={index} style={{ textAlign: msg.sender === \"You\" ? \"right\" : \"left\", margin: \"10px\" }}>\n            <strong>{msg.sender}:</strong> {msg.content}\n          </div>\n        ))\n      ) : (\n        <p>Generating Translation...</p>\n      )}\n    </div>\n    </>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}